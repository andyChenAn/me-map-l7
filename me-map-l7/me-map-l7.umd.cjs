(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("@antv/l7")):typeof define=="function"&&define.amd?define(["vue","@antv/l7"],u):(e=typeof globalThis<"u"?globalThis:e||self,e["me-map-l7"]=u(e.Vue,e.L7))})(this,function(e,u){"use strict";const r=e.defineComponent({__name:"point-layer",props:{id:{},visible:{type:Boolean},zIndex:{},pickingBuffer:{},blend:{},enablePropagation:{type:Boolean},filter:{},size:{},color:{},shape:{},style:{},texture:{},active:{type:[Boolean,Object]},select:{type:[Boolean,Object]},autoFit:{type:Boolean},icon:{},"on-click":{},"on-dblclick":{},"on-mousemove":{},"on-mouseout":{},"on-mouseup":{},"on-mousedown":{},"on-contextmenu":{},"on-unclick":{},"on-unmousemove":{},"on-unmouseup":{},"on-unmousedown":{},"on-uncontextmenu":{},"on-unpick":{},"on-touchstart":{},"on-touchend":{},"on-inited":{},"on-add":{},"on-remove":{},"on-legend":{}},setup(f){const p=f,t=e.ref(e.inject("mapScene")),n=e.ref();e.provide("layer",n);const w=async()=>{const{id:a,icon:o}=p;if(t.value){const i=t.value.getScene();await h(t.value,o),i.getLayerByName(a)||x(i,p)}},x=(a,o)=>{const{id:i,visible:k,zIndex:j,autoFit:g,pickingBuffer:B,blend:z,shape:s,size:l,color:c,style:m,active:I,select:L,texture:v,filter:d}=o;n.value=new u.PointLayer({name:i,visible:k||!0,zIndex:j||1,pickingBuffer:B,blend:z}),s&&(typeof s=="string"?n.value.shape(s):typeof s=="object"&&n.value.shape(s.type,s.callback)),l&&(typeof l=="number"||typeof l=="string"?n.value.size(l):typeof l=="object"&&n.value.size(l.type,l.callback)),c&&(typeof c=="string"?n.value.color(c):typeof c=="object"&&n.value.color(c.type,c.callback)),m&&typeof m=="object"&&n.value.style(m),n.value.active(I||!1),n.value.select(L||!1),n.value.setAutoFit(g||!1),d&&typeof d=="object"&&n.value.filter(d.type,d.callback),v&&typeof v=="string"&&n.value.texture(v)},h=async(a,o)=>{if(o)if(Array.isArray(o))for(let i of o)await a.addImage(i.name,i.url);else await a.addImage(o.name,o.url)};return e.onMounted(()=>{w()}),e.onBeforeUnmount(()=>{}),(a,o)=>n.value?e.renderSlot(a.$slots,"default",{key:0}):e.createCommentVNode("",!0)}});r.name="me-point-layer",r.install=f=>{f.component(r.name,r)};const y={MePointLayer:r},b=function(f){Object.keys(y).forEach(p=>{const t=y[p];t.name&&f.component(t.name,t)})};return typeof window<"u"&&window.Vue&&b(window.Vue),{install:b,...y}});
