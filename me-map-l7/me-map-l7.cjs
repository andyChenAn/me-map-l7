"use strict";const n=require("vue"),L=require("@antv/l7"),r=n.defineComponent({__name:"point-layer",props:{id:{},visible:{type:Boolean},zIndex:{},pickingBuffer:{},blend:{},enablePropagation:{type:Boolean},filter:{},size:{},color:{},shape:{},style:{},texture:{},active:{type:[Boolean,Object]},select:{type:[Boolean,Object]},autoFit:{type:Boolean},icon:{},"on-click":{},"on-dblclick":{},"on-mousemove":{},"on-mouseout":{},"on-mouseup":{},"on-mousedown":{},"on-contextmenu":{},"on-unclick":{},"on-unmousemove":{},"on-unmouseup":{},"on-unmousedown":{},"on-uncontextmenu":{},"on-unpick":{},"on-touchstart":{},"on-touchend":{},"on-inited":{},"on-add":{},"on-remove":{},"on-legend":{}},setup(u){const f=u,t=n.ref(n.inject("mapScene")),e=n.ref();n.provide("layer",e);const g=async()=>{const{id:a,icon:o}=f;if(t.value){const i=t.value.getScene();await w(t.value,o),i.getLayerByName(a)||k(i,f)}},k=(a,o)=>{const{id:i,visible:v,zIndex:j,autoFit:x,pickingBuffer:B,blend:h,shape:c,size:l,color:s,style:y,active:z,select:I,texture:m,filter:p}=o;e.value=new L.PointLayer({name:i,visible:v||!0,zIndex:j||1,pickingBuffer:B,blend:h}),c&&(typeof c=="string"?e.value.shape(c):typeof c=="object"&&e.value.shape(c.type,c.callback)),l&&(typeof l=="number"||typeof l=="string"?e.value.size(l):typeof l=="object"&&e.value.size(l.type,l.callback)),s&&(typeof s=="string"?e.value.color(s):typeof s=="object"&&e.value.color(s.type,s.callback)),y&&typeof y=="object"&&e.value.style(y),e.value.active(z||!1),e.value.select(I||!1),e.value.setAutoFit(x||!1),p&&typeof p=="object"&&e.value.filter(p.type,p.callback),m&&typeof m=="string"&&e.value.texture(m)},w=async(a,o)=>{if(o)if(Array.isArray(o))for(let i of o)await a.addImage(i.name,i.url);else await a.addImage(o.name,o.url)};return n.onMounted(()=>{g()}),n.onBeforeUnmount(()=>{}),(a,o)=>e.value?n.renderSlot(a.$slots,"default",{key:0}):n.createCommentVNode("",!0)}});r.name="me-point-layer";r.install=u=>{u.component(r.name,r)};const d={MePointLayer:r},b=function(u){Object.keys(d).forEach(f=>{const t=d[f];t.name&&u.component(t.name,t)})};typeof window<"u"&&window.Vue&&b(window.Vue);const _={install:b,...d};module.exports=_;
